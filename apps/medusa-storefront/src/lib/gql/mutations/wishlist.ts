import { gql } from '@apollo/client';

import { WISHLIST_FRAGMENT } from '../fragments/wishlist';
import type { ProductVariantFragment } from '../generated-types/graphql';

export const ADD_WISHLIST_ITEM_MUTATION = gql`
  mutation AddWishlistItem($productVariantId: ID!) {
    addWishlistItem(productVariantId: $productVariantId) {
      wishlist {
        ...Wishlist
      }
    }
  }
  ${WISHLIST_FRAGMENT}
`;

export const REMOVE_WISHLIST_ITEM_MUTATION = gql`
  mutation RemoveWishlistItem($wishlistItemId: ID!) {
    removeWishlistItem(wishlistItemId: $wishlistItemId) {
      wishlist {
        ...Wishlist
      }
    }
  }
  ${WISHLIST_FRAGMENT}
`;

// TODO: MDS-57
// Temporarily add wishlist-related schema types here.
// These types will be generated by codegen once GraphQL schema for wishlist-related queries/mutations are created
export type WishlistItemGraphQL = {
  id: string;
  wishlistId: string;
  productVariantId: string;
  productVariant: ProductVariantFragment | null;
};

export type WishlistGraphQL = {
  id: string;
  items: WishlistItemGraphQL[];
};

export type AddWishlistItemMutationResult = {
  addWishlistItem: {
    wishlist: WishlistGraphQL;
  };
};

export type AddWishlistItemMutationVariables = {
  productVariantId: string;
};

export type RemoveWishlistItemMutationResult = {
  removeWishlistItem: {
    wishlist: WishlistGraphQL;
  };
};

export type RemoveWishlistItemMutationVariables = {
  wishlistItemId: string;
};
