enum ApplicationType {
  fixed
  percentage
}

type LineItem {
  id: ID!
  title: String
  quantity: Int!
  requiresShipping: Boolean
  isDiscountable: Boolean
  isTaxInclusive: Boolean
  unitPrice: Int
  cart: Cart
  cartId: String
  createdAt: DateTime
  productHandle: String
  productTitle: String
  thumbnail: String
  total: Int
  originalTotal: Int
  variant: ProductVariant
}

type Address {
  id: String
  metadata: JSON
  createdAt: DateTime
  updatedAt: DateTime
  firstName: String
  lastName: String
  phone: String
  address1: String
  address2: String
  company: String
  province: String
  city: String
  countryCode: String
  postalCode: String
}

type ApplicationMethod {
  value: Int!
  type: ApplicationType!
  currencyCode: String!
}

type Promotion {
  id: String!
  code: String
  isAutomatic: Boolean
  applicationMethod: ApplicationMethod
}

type Country {
  id: String
  iso2: String
  iso3: String
  numCode: String
  name: String
  displayName: String
}

type Region {
  id: ID!
  name: String!
  currencyCode: String!
  automaticTaxes: Boolean
  createdAt: DateTime
  updatedAt: DateTime
  countries: [Country]
}

type ShippingMethod {
  id: String!
  cartId: String
  name: String!
  amount: Int!
  isTaxInclusive: Boolean!
  createdAt: DateTime
  updatedAt: DateTime
  shippingOptionId: String
  total: Int
}

type Cart {
  id: ID!
  currencyCode: String!
  originalItemTotal: Int!
  originalItemSubtotal: Int!
  originalItemTaxTotal: Int!
  itemTotal: Int!
  itemSubtotal: Int!
  itemTaxTotal: Int!
  originalTotal: Int!
  originalSubtotal: Int!
  originalTaxTotal: Int!
  total: Int!
  subtotal: Int!
  taxTotal: Int!
  discountTotal: Int!
  discountTaxTotal: Int!
  giftCardTotal: Int!
  giftCardTaxTotal: Int!
  shippingTotal: Int!
  shippingSubtotal: Int!
  shippingTaxTotal: Int!
  originalShippingTotal: Int!
  originalShippingSubtotal: Int!
  originalShippingTaxTotal: Int!
  promotions: [Promotion]!
  email: String
  items: [LineItem!]
  regionId: String
  shippingAddress: Address
  billingAddress: Address
  createdAt: DateTime
  updatedAt: DateTime
  promoCodes: [String]
  shippingMethods: [ShippingMethod]
  region: Region
  paymentCollection: PaymentCollection
  customerId: String
}

input AddressInput {
  customerId: String
  firstName: String
  lastName: String
  phone: String
  address1: String
  address2: String
  company: String
  province: String
  city: String
  countryCode: String
  postalCode: String
}

input CreateCartInput {
  regionId: String
  shippingAddress: AddressInput
  billingAddress: AddressInput
  email: String
  currencyCode: String
  items: [CreateLineItemInput!]
  promoCodes: [String]
}

input UpdateCartInput {
  regionId: String
  shippingAddress: AddressInput
  billingAddress: AddressInput
  email: String
  promoCodes: [String]
}

input CreateLineItemInput {
  variantId: String!
  quantity: Int!
}

input UpdateLineItemInput {
  quantity: Int!
}

type StoreLineItemDeleteResponse {
  id: ID!
  object: String
  deleted: Boolean!
}

type CompleteCartError {
  message: String!
  name: String!
  type: String!
}

type CompleteCartErrorResult {
  type: String!
  cart: Cart
  error: CompleteCartError
}

type CompleteCartOrderResult {
  type: String!
  order: Order
}

union CompleteCartResponse = CompleteCartErrorResult | CompleteCartOrderResult

extend type Query {
  cart(id: ID!): Cart
}

extend type Mutation {
  createCart(data: CreateCartInput!): Cart
  updateCart(id: ID!, data: UpdateCartInput!): Cart
  createLineItem(cartId: ID!, data: CreateLineItemInput!): Cart
  updateLineItem(cartId: ID!, lineItemId: ID!, data: UpdateLineItemInput!): Cart
  deleteLineItem(cartId: ID!, lineItemId: ID!): StoreLineItemDeleteResponse!
  addShippingMethod(cartId: ID!, optionId: ID!): Cart
  completeCart(cartId: ID!): CompleteCartResponse
  transferCart(cartId: ID!): Cart
  applyPromotions(cartId: ID!, codes: [String!]!): Cart
}
